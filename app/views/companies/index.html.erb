<h1>Empresas</h1>
<div class="row justify-content-between mb-2">
  <div class="col-4">
    <%= link_to "Registrar empresa", 
      new_company_path,
      data: { turbo_frame: "modal"},
      class: "btn btn-sm btn-primary" %>
  </div>
  <div class="col-6">
    <%= search_form_for @query, method: :get, data: { controller: "filter", filter_target: "form", turbo_frame: "table" } do |form| %>
      <%= form.search_field :name_or_cuit_or_sector_name_or_company_category_name_cont,
          placeholder: "Filtrar...",
          class: "form-control form-control-sm",
          autocomplete: "off",
          data: { action: "input->filter#search" }
        %>
    <% end %>
  </div>
</div>
<%= turbo_frame_tag 'table', id: 'companies_table' do %>
  <div class="table-responsive">
    <table class="table table-hover">
      <thead class="thead-light">
        <tr>
          <th>Razón social</th>
          <th>Cuil</th>
          <th>Rubro</th>
          <th>Categoría</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id='tbody_companies'>
        <%= render @companies %>
      </tbody>
    </table>
    <%== pagy_bootstrap_nav(@pagy) %>
  </div>
<% end %>