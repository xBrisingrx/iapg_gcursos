<h1>Cursos</h1>
<div class="row justify-content-between mb-2">
  <div class="col-4">
    <%= link_to "Registrar curso", 
      new_course_path,
      class: "btn btn-sm btn-primary" %>
  </div>
  <div class="col-6">
    <%= search_form_for @query, method: :get, data: { controller: "filter", filter_target: "form", turbo_frame: "table" } do |form| %>
      <%= form.search_field :room_name_cont,
          placeholder: "Filtrar...",
          class: "form-control form-control-sm",
          autocomplete: "off",
          data: { action: "input->filter#search" }
        %>
    <% end %>
  </div>
</div>
<%= turbo_frame_tag 'table', id: 'courses_table' do %>
  <div class="table-responsive">
    <table class="table table-hover">
      <thead class="thead-light">
        <tr>
          <th><%= sort_link(@query, :date, "Fecha") %></th>
          <th><%= sort_link(@query, :course_type, "Curso") %></th>
          <th><%= sort_link(@query, :room, "Sala") %></th>
          <th><%= sort_link(@query, :company, "Empresa") %></th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id='tbody_courses'>
        <%= render @courses %>
      </tbody>
    </table>
    <%== pagy_bootstrap_nav(@pagy) %>
  </div>
<% end %>


<div data-controller="calendar" data-calendar-target="calendar"></div>